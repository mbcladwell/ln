---
title: Tutorial 1 - Canonical workflow
categories:
  - Tutorials
tags:
  - tutorial 1
  - canonical
comments: true
---

Using the demonstration data, work through a [cononical workflow](/software/canonical/).

## Create a new plate set by reformating

Using the demonstration data, reformat Project 10, Plate Set 6, 10 96 well plates, into 384 well assay plates with a replication of 1. Launch the reformat dialog:

{% asset_img menu.png %}

The top panel provides information about the source plate set, and the bottom panels requests information on the design of the destination plate set.  I will use sample replicates of 1 and target replicates of 4 i.e. all 4 quadrants of the 384 well plate coated with the same [target](/software/layouts)). This requires that I define the [layout](/software/layouts/) as 1S4T.

{% asset_img reformatdialog.png %}

Pressing OK I will get a new Plate Set #8, assuming no earlier modifications were made to the demo data. Navigate into PS-8 and note that there are 3 plates, 30-32, with 32 only half filled.  I am ready to load data.

## Apply barcode IDs to plates, Accession IDs to samples 

Applying barcode and accession IDs is optional.  The purpose of these identifiers is to allow you to associate LIMS\*Nucleus data with data in other systems. Start by highlighting the Plate Set of interest, PS-8 in this case, and follow the directions for importing [accession ids](/software/accessionids/) and [barcode ids](/software/barcodeids/). Use the following data:

|ID type|File|
|--|--|
|accession|[ps8-accessions.txt](/software/tut1/ps8-accessions.txt)|
|barcode|[ps8-barcodes.tst](/software/tut1/ps8-barcodes.txt)|

Note that empty wells in the third plate do not have an entry in the acessions file.  A template for loading the accession IDs can be generated by exporting the underlying plate set data (plate set menu item: utilities/export/underlying data).  The columns of interest are "Order" and "Well" which must be relabeled "plate" and "well".  Also include the accession as "accs.id".

{% asset_img view_accs_calc.png %}

## Load assay data.  

Download the demonstration tab delimitted data set [plates384x3_1S4T.txt](/software/tut1/plates384x3_1S4T.txt) to your local drive.  The plate layout looks like:

{% asset_img ggplot2.png %}

and the response values look like:

{% asset_img ggplot1.png %}

This might be an ELISA assay showing a majority of responses less than 0.5. There is good reproducibility amongst the controls, with a good assay window.  With the destination plate set highlighted, select Utilities/Import assay data:

{% asset_img menu2.png %}

Fill in the dialog, substituting the path name with the path to the file on your computer:

{% asset_img dialogimport.png %}

I want hits automatically identified using a built in [algorithm](/software/algorithms/) so I tick the box and select mean +3SD so that all responses greater than the mean of the background wells + 3 standard deviation units are considered a hit.  Because I am auto-identifiying hits, the add hit list dialog box will appear giving me the opportunity to name and describe the hit list.

{% asset_img dialoghitlist.png %}

## View the Assay Run

If I now open the AssayRun Viewer and highlight AR-6, I will see the associated hit list HL-7 in the right panel.  

{% asset_img assayrun.png %}

At the bottom of the left panel in the AssayRun Viewer I can press the plot button and see a scatter plot of the data, with controls color coded.

{% asset_img scatter.png %}

Note that at this stage I can generate a hit list if the hit list was not auto-generated on data import.  I have the opportunity to select hits algorithmically, use a slider to interactively select hits, or type in an absorbance threshold or number of desired hits.  Pressing the "Generate hit list" button will call up the previously viewed add hit list dialog.

## View the Hit List

To view a hit list, select the list in the right panel of the AssayRun Viewer and press the "View" button. Individual hits will appear in the left panel, and plate sets containing some or all of the hits, along with the count of hits, will appear in the right panel:

{% asset_img hitlistview.png %}

## Rearray

At this point you are ready to rearry your hits into a new plate set for secondary assay or further processing.  Note that HL-7 contains 194 samples.  In our simplistic demonstration data set, it is obvious that the parental samples for our assay plate set are in plate set 6.  In real life processing, samples may get distributed across many plate sets.  Use the type and count fields to help determine an appropriate source of samples for rearray.  Assay plates are typically transient and not a source of material for rearraying.  You must establish type naming conventions for your plate set, for example archive plates or master/daughter/rearry plates contain samples while assay plates are transient.  In the demo data PS-6 is labeled "assay", but should probably have been labeled master to provide an indication at this stage that the plates contain samples.

The count field is to confirm that a particular plate set contains (or not) all the hits of interest. If no single plate set contains all hits, you may have to group plate sets.

Highlight the plate set that will serve as the rearry source and press the "Rearry" button.  This will initiate the production of a new plate set that will contain hits only:

{% asset_img rearray.png %}

Provide the requested information and press "OK".  The number of plates required will be automatically calculated and hits will be distributed in numerical order by column into the plates.  Since this is a rearray plate, and not an assay plate, the target is auto-assigned to DefaultQuadruplicates, which is inconsequential. To achieve the physical rearry in the lab a [worklist](/software/rearray/) is generated and associated with the plate set. Indication that a plate set was generated by a worklist is the presence of the worklist ID in the "worklist" column in the plate set view.  Only plate sets generated by a rearray have an integer in the "worklist" column.  The worklist is permanently stored in the database and can be recalled by highlighting the plate set and selecting Utilities/Worklist on the menu bar.

{% asset_img retrieveworklist.png %}

The worklist will be exported to e.g. Microsoft Excel or LibreOffice Calc, depending on what your computer has associated with the .CSV extension:

{% asset_img worklistcalc.png %}

This worklist can be used with a liquid handling robot such as a Beckman Biomek, to perform the physical rearry.

[Tutorial 2](/software/tut2/) is a repeat of the canonical workflow, this time using an assay plate layout that allows for duplicate samples. 











